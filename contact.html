<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contacts</title>
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome for official brand icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<!-- Navigation Bar -->
<nav>
  <div class="hamburger" onclick="toggleMenu(this)">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="resume.html">Resume</a></li>
    <li><a href="research.html">Research Interests</a></li>
    <li><a href="projects.html">Projects & Thesis</a></li>
    <li><a href="work.html">Work Experiences</a></li>
    <li><a href="activities.html">Activities</a></li>
    <li><a href="contact.html">Contacts</a></li>
  </ul>
</nav>


  <!-- Contacts Content -->
  <div class="container">
    <div class="section">
      <h2>Contacts</h2>
      <p style="text-align:center; margin-bottom:25px;">
        <strong>Feel free to reach out through the platforms below</strong>
      </p>
     <div class="contact-info">


<!-- Gmail link (keep the anchor and img) -->
<a href="mailto:tanmoy4036@gmail.com"
   class="contact-icon"
   id="gmail-link"
   aria-label="Email Asif Ahmed Tanmoy">
  <img src="assets/Gmail_logo.PNG"
       alt="Gmail"
       class="contact-logo gmail-logo">
</a>

<!-- Smart Gmail-handler script: Gmail app preferred on mobile, fallback to mailto if not installed.
     On desktop it opens Gmail web compose in a new tab. -->
<script>
(function () {
  const a = document.getElementById('gmail-link');
  if (!a) return;

  // keep the href mailto as the definitive fallback
  const mailto = a.getAttribute('href') || 'mailto:tanmoy4036@gmail.com';
  const to = mailto.replace(/^mailto:/i, '').split(/[?&]/)[0];

  // Gmail web compose URL (desktop)
  const gmailWeb = 'https://mail.google.com/mail/?view=cm&fs=1&to=' + encodeURIComponent(to);

  // Gmail app deep links (attempts)
  // iOS/Universal scheme used by Gmail app
  const gmailAppScheme = 'googlegmail://co?to=' + encodeURIComponent(to);
  // Android Intent - asks system to open Gmail package (Chrome on Android understands intent: URLs)
  const gmailIntent = 'intent://compose?to=' + encodeURIComponent(to) + '#Intent;package=com.google.android.gm;scheme=mailto;end';

  // small mobile detection
  const isMobile = /Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);
  const isAndroid = /Android/i.test(navigator.userAgent);
  const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

  a.addEventListener('click', function (ev) {
    try {
      if (!isMobile) {
        // Desktop: open Gmail web compose in a new tab
        ev.preventDefault();
        window.open(gmailWeb, '_blank', 'noopener');
        return;
      }

      // Mobile: prefer Gmail app, fallback to mailto (native mail app)
      ev.preventDefault();

      // Attempt to open Gmail app:
      let opened = false;
      const start = Date.now();

      // For Android, use intent URL - Chrome will try to open the Gmail app directly
      if (isAndroid) {
        // Assigning location to intent triggers the Gmail app if installed.
        window.location = gmailIntent;
      } else if (isIOS) {
        // iOS: use the googlegmail:// scheme (Gmail app registers this)
        // We open via window.location; if the scheme is not handled, browser stays and the fallback will run.
        window.location = gmailAppScheme;
      } else {
        // fallback to attempting the scheme first
        window.location = gmailAppScheme;
      }

      // After a short delay, if the app didn't open, fall back to mailto:
      // (If Gmail app opened, the browser is backgrounded and this fallback usually won't run.)
      setTimeout(function () {
        // if browser still visible, open native mailto fallback
        // We use a small threshold so that legitimate app openings don't trigger the fallback.
        if (Date.now() - start < 1200) {
          window.location = mailto; // opens phone's default email app
        }
      }, 800);

    } catch (err) {
      // on any error, let the anchor's href handle it (mailto)
      return;
    }
  }, false);
})();
</script>

  <!-- LinkedIn -->
  <a href="https://www.linkedin.com/in/asif-ahmed-tanmoy" class="contact-icon" target="_blank">
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg"
         class="contact-logo" alt="LinkedIn logo">
    <span>LinkedIn</span>
  </a>

  <!-- GitHub -->
  <a href="https://github.com/asifahmedtanmoy" class="contact-icon" target="_blank">
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg"
         class="contact-logo" alt="GitHub logo">
    <span>GitHub</span>
  </a>

</div>


    </div>
  </div>

  <!-- Script -->
  <script src="script.js"></script>
  <footer>
  <p>&copy; 2025 Asif Ahmed Tanmoy. All Rights Reserved.</p>
</footer>

</body>
</html>
